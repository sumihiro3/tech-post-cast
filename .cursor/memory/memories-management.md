# タスク振り返りと知識管理ガイドライン

## 目的

プロジェクト進行中の学びや発見を体系的に記録し、将来の意思決定や設計に活かすためのガイドライン。タスク実施後の振り返りプロセスを標準化し、知識の蓄積と共有を促進する。

## タスク振り返りのプロセス

各タスク完了後は以下のプロセスにしたがって振り返りと知識の記録を行う。

### 1. タスク完了時の振り返り実施

すべてのP0/P1タスク、または重要な設計決定を含むタスクの完了後に振り返りを実施する。各振り返りでは以下の観点から情報を整理する：

#### 必須確認項目

- **初期想定と実際の相違点**
    - 計画時点で想定していたがうまくいかなかったこと
    - 予想外の障害や課題
    - 当初の設計から変更した箇所とその理由
- **新たな発見や学び**
    - タスク実施によって得られた新しい知見
    - ユーザーからのフィードバックや指示により発見された事実
    - プロジェクトの他の部分に適用可能な洞察
- **問題解決の記録**
    - 発生したエラーや不具合の詳細
    - 採用した解決策と、選択した理由
    - 試したが成功しなかったアプローチ
- **将来のための提案**
    - 今後の実装や改善のためのアイデア
    - 残された課題や懸念事項
    - フォローアップが必要な項目

### 2. タスク計画書の更新

タスク完了後、対応するタスク計画書を以下の方針で更新する：

- タスクの状態を「完了」に変更
- サブタスクの達成状況を更新
- 「振り返り」セクションに上記観点からの重要な情報を追加
- 関連するタスクの依存関係や優先度調整が必要な場合は修正

### 3. 知識リポジトリへの記録

とくに重要な発見や学びは、`.cursor/memory/` ディレクトリ内の該当カテゴリのファイルに記録する：

- **カテゴリ別ファイル構成**
    - `architecture-decisions.md`: アーキテクチャ設計の決定と理由
    - `db-schema-insights.md`: データベース設計の洞察
    - `api-patterns.md`: API実装のパターンとベストプラクティス
    - `ui-ux-learnings.md`: UI/UXに関する学び
    - `performance-optimizations.md`: パフォーマンス最適化の知見
    - `security-considerations.md`: セキュリティに関する考慮事項
    - `testing-strategies.md`: テスト戦略と手法
    - `deployment-lessons.md`: デプロイに関する教訓
- **記録フォーマット**

```markdown
## [トピック名] (YYYY-MM-DD)

### 背景と課題
[直面した問題や検討事項の説明]

### 検討したアプローチ
[検討した複数の選択肢と各々の利点・欠点]

### 決定事項と理由
[最終的な決定内容とその理由]

### 学んだ教訓
[今後同様の状況で活用できる教訓]

### 関連タスク
[関連するタスク ID または名称]
```

## 知識活用のガイドライン

蓄積された知識の効果的な活用のために以下のプラクティスを推奨：

1. **新規タスク計画時の参照**
    - 類似のタスクや機能を実装する際、過去の関連記録を参照
    - 同様の課題に対する過去の解決策を検討
2. **設計レビュー時の活用**
    - 設計レビューにおいて、過去の設計決定との整合性を確認
    - 過去の教訓を新しい設計に反映
3. **定期的な知識ベースのレビュー**
    - 四半期ごとに知識リポジトリを見直し、最新の情報に更新
    - 重要な学びを定期的にチーム内で共有
4. **関連タスク間の相互参照**
   - 関連する記録間で相互参照を作成し、情報の関連性を明確化

## 運用ルール

1. **情報のライフサイクル管理**
    - 作成日と最終更新日を明記
    - 6か月以上経過した情報は、現在も有効かレビュー
2. **情報の優先度付け**
    - とくに重要な洞察や教訓には「KEY INSIGHT」というラベルを付与
3. **プロジェクト間の知識共有**
    - 複数のプロジェクト間で共有すべき知見は「GLOBAL LEARNING」としてマーク
4. **メタデータの付与**
    - 関連するコンポーネント、技術スタック、ビジネス要件などのタグ付け
    - 容易な検索と関連付けのための索引作成
