# パーソナルプログラム・Qiita記事永続化タスク詳細

## 概要

パーソナルプログラムで紹介されたQiita記事の情報を永続化し、ユーザーがいつでも参照できるようにするための実装タスク詳細。

## データベース設計

### 紹介記事テーブル設計

- **優先度**: P0
- **状態**: 未着手
- **期限**: 未設定
- **説明**: 記事情報を保存するためのテーブル設計
- **依存関係**: なし
- **詳細**:
    - 記事テーブル (articles)
        - id: UUID (PK)
        - external_id: string (Qiita記事ID)
        - title: string
        - url: string
        - author: string
        - published_at: timestamp
        - tags: string[]
        - summary: text
        - created_at: timestamp
        - updated_at: timestamp
    - プログラム記事関連テーブル（program_articles）
        - id: UUID (PK)
        - program_id: UUID (FK to programs)
        - article_id: UUID (FK to articles)
        - relevance_score: float（記事の関連性スコア）
        - mentioned_at: timestamp（プログラム内で言及された時間）
        - created_at: timestamp
        - updated_at: timestamp

## バックエンド実装タスク

### 記事データ保存プロセス実装

- **優先度**: P1
- **状態**: 未着手
- **期限**: 未設定
- **説明**: パーソナルプログラム生成時に関連記事情報を永続化するプロセスの実装
- **依存関係**: 紹介記事テーブル設計
- **サブタスク**:
    1. Qiita API連携処理の実装/改善
    2. 重複記事チェック処理の実装
    3. プログラム生成フローへの記事保存処理の統合
    4. エラーハンドリング実装

### ユーザー記事履歴API実装

- **優先度**: P1
- **状態**: 未着手
- **期限**: 未設定
- **説明**: ユーザーがパーソナルプログラムで紹介された記事履歴を取得するためのAPI実装
- **依存関係**: 記事データ保存プロセス実装
- **サブタスク**:
    1. ユーザーの記事履歴取得エンドポイント実装
    2. フィルタリング機能実装（日付、タグ、プログラム別など）
    3. ページネーション実装
    4. パフォーマンス最適化

## フロントエンド実装タスク

### 記事履歴表示UI実装

- **優先度**: P2
- **状態**: 未着手
- **期限**: 未設定
- **説明**: ユーザーが過去のパーソナルプログラムで紹介された記事を閲覧するためのUI実装
- **依存関係**: ユーザー記事履歴API実装
- **サブタスク**:
    1. 記事リスト表示コンポーネント実装
    2. 記事検索・フィルタリングUI実装
    3. 記事詳細表示モーダル実装
    4. お気に入り/既読機能実装（オプション）

## テストタスク

### 記事永続化テスト

- **優先度**: P1
- **状態**: 未着手
- **期限**: 未設定
- **説明**: 記事永続化機能のユニットテストと統合テスト
- **依存関係**: 記事データ保存プロセス実装
- **サブタスク**:
    1. テーブル操作のユニットテスト
    2. Qiita API連携の統合テスト
    3. プログラム生成から記事保存までの統合テスト
    4. エッジケースのテスト（重複記事、API障害時など）

## デプロイ計画

### マイグレーション実行計画

- **優先度**: P1
- **状態**: 未着手
- **期限**: 未設定
- **説明**: 新しいテーブルのマイグレーション計画
- **依存関係**: 紹介記事テーブル設計
- **サブタスク**:
    1. マイグレーションスクリプト作成
    2. テスト環境でのマイグレーションテスト
    3. 本番環境デプロイ計画
    4. ロールバック計画
