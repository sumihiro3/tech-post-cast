# 有料プラン（Free/Pro）実装タスク計画書

## 概要

Tech Post Castの有料プラン（Free/Pro）を実現するための実装タスクを整理します。

---

## 1. プラン制限の実装

- **優先度**: P0
- **状態**: 未着手
- **説明**: Free/Proプランごとの機能・利用制限を実装する
- **サブタスク**:
    1. パーソナルフィード作成数の制限（Free: 1つ、Pro: 3つ）
    2. 指定著者数・タグ数の制限（Free: 1件、Pro: 5件）
    3. 制限に達した際のUI表示・アップグレード促し
    4. 制限チェックのミドルウェア/ガード実装

---

## 2. Stripe課金システム導入

- **優先度**: P0
- **状態**: 未着手
- **説明**: Stripeを用いたProプランの月額課金システムを実装する
- **サブタスク**:
    1. Stripe SDK導入・APIキー設定
    2. 顧客・サブスクリプション管理（作成/更新/キャンセル）
    3. Webhookによる支払い・状態同期
    4. 決済ページ・アップグレードフロー実装
    5. サブスクリプション状態のDB設計・管理

---

## 3. アクセス制御・認可

- **優先度**: P0
- **状態**: 未着手
- **説明**: プランに応じた機能アクセス制御・認可を実装する
- **サブタスク**:
    1. サブスクリプション状態チェック機能
    2. プレミアムガード/ミドルウェア実装
    3. API・UIでのアクセス制御
    4. 期限切れ時の処理

---

## 4. アップグレード促進機能

- **優先度**: P1
- **状態**: 未着手
- **説明**: 無料ユーザー向けのアップグレード促進機能を実装する
- **サブタスク**:
    1. 番組内広告表示機能
    2. 設定画面でのアップグレード促し表示
    3. 制限到達時のアップグレード案内

---

## 5. 招待・クーポンシステム

- **優先度**: P2
- **状態**: 未着手
- **説明**: 招待ユーザー向けにProプランを無料提供するクーポンシステムを実装する
- **サブタスク**:
    1. 招待クーポン生成・管理
    2. クーポン適用・認証処理
    3. 招待メール送信

---

## 6. テスト・検証

- **優先度**: P0
- **状態**: 未着手
- **説明**: 有料プラン関連機能のテスト・検証
- **サブタスク**:
    1. プラン制限・アクセス制御のテスト
    2. Stripe連携・決済フローのテスト
    3. UI/UXテスト

---

※現状不要な分析・検討系タスクや、ビジネスプラン・高度な分析系タスクは削除しました。
